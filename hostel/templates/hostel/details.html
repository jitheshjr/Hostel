{% extends 'hostel/base.html' %}
{% load static %}

{% block title %}
Hostel | Details
{% endblock %}

{% block style %}
<link rel="stylesheet" href="{% static 'styles/details.css' %}">
{% endblock %}

{% block content %}
<section class="main">
    <div class="student-details">
        <div class="header-links">
            <!-- Back/Close icon -->
            <a href="{% url 'view_student' %}" class="back-link" title="Back">
                <i class="fas fa-arrow-left"></i>
            </a>
        
            <!-- Edit icon -->
            <a href="{% url 'edit_student' student.id %}" class="menu" title="Edit">
                <i class="fas fa-user-edit"></i>
            </a>
        </div>
        
        <!-- Restructured to horizontal layout with photo and details side by side -->
        <div class="student-card-horizontal">
            <div class="photo-section">
                {% if student_image_url %}
                    <img src="{{ student_image_url }}" alt="Student Image" class="student-photo">
                {% else %}
                    <div class="no-image">No image available</div>
                {% endif %}
            </div>
            
            <div class="details-section">
                <div class="student-info">
                    <h2 class="student-name">{{student.name}}</h2>
                    <p class="student-program">{{student.pgm}}</p>
                </div>
                
                <div class="student-details-grid">
                    <div class="detail-item">
                        <span class="detail-label">ADMISSION NUMBER:</span>
                        <span class="detail-value">{{student.admn_no}}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label">DOB:</span>
                        <span class="detail-value">{{student.dob}}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label">PHONE:</span>
                        <span class="detail-value">{{student.contact}}</span>
                    </div>
                    
                    <div class="detail-item">
                        <span class="detail-label">ALLOCATED ROOM:</span>
                        <span class="detail-value">
                            {% if room %}
                                {{room.room_number}} ( {{room.room_number.floor}} )
                            {% else %}
                                Currently not allocated any room
                            {% endif %}
                        </span>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <a href="{% url 'delete_student' student.id %}" class="btn-delete" onclick="return confirmDelete();">Delete</a>
                    <a href="{% url 'absent_records' student.id %}" class="btn-absent">Absent Days</a>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    function confirmDelete() {
        return confirm("Are you sure you want to delete this student?");
    }
</script>  
{% endblock %}